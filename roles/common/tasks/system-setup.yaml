  - name: "adding system user roboshop"
    ansible.builtin.user:
    name: roboshop
    comment: system user roboshop
    system: true
    shell: /sbin/nologin
    home: /app
  
  - name: "setting up systemd service file"
    ansible.builtin.template:
    src: "{{ component }}.service.j2"
    dest: "/etc/systemd/system/{{ component }}.service"
    notify: daemon-reload

  - name: "start and enable {{ component }}"
    ansible.builtin.service:
      name: nodejs
      state: started
      enabled: yes